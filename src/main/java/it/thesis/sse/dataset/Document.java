package it.thesis.sse.dataset;

import java.util.List;
import java.util.Objects;

/**
 * POJO representing an e-health document.
 * Maps directly to the JSON structure generated by the Python dataset
 * generator.
 */
public class Document {

    private String docId;
    private String patientId;
    private String firstName;
    private String lastName;
    private int age;
    private String department;
    private List<String> diagnoses;
    private List<String> treatments;
    private String admissionDate;
    private String clinicalNotes;
    private List<String> keywords;

    // Default constructor for JSON deserialization
    public Document() {
    }

    // Full constructor
    public Document(String docId, String patientId, String firstName, String lastName,
            int age, String department, List<String> diagnoses, List<String> treatments,
            String admissionDate, String clinicalNotes, List<String> keywords) {
        this.docId = docId;
        this.patientId = patientId;
        this.firstName = firstName;
        this.lastName = lastName;
        this.age = age;
        this.department = department;
        this.diagnoses = diagnoses;
        this.treatments = treatments;
        this.admissionDate = admissionDate;
        this.clinicalNotes = clinicalNotes;
        this.keywords = keywords;
    }

    // Getters and Setters
    public String getDocId() {
        return docId;
    }

    public void setDocId(String docId) {
        this.docId = docId;
    }

    public String getPatientId() {
        return patientId;
    }

    public void setPatientId(String patientId) {
        this.patientId = patientId;
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getDepartment() {
        return department;
    }

    public void setDepartment(String department) {
        this.department = department;
    }

    public List<String> getDiagnoses() {
        return diagnoses;
    }

    public void setDiagnoses(List<String> diagnoses) {
        this.diagnoses = diagnoses;
    }

    public List<String> getTreatments() {
        return treatments;
    }

    public void setTreatments(List<String> treatments) {
        this.treatments = treatments;
    }

    public String getAdmissionDate() {
        return admissionDate;
    }

    public void setAdmissionDate(String admissionDate) {
        this.admissionDate = admissionDate;
    }

    public String getClinicalNotes() {
        return clinicalNotes;
    }

    public void setClinicalNotes(String clinicalNotes) {
        this.clinicalNotes = clinicalNotes;
    }

    public List<String> getKeywords() {
        return keywords;
    }

    public void setKeywords(List<String> keywords) {
        this.keywords = keywords;
    }

    /**
     * Get the full name of the patient.
     */
    public String getFullName() {
        return firstName + " " + lastName;
    }

    /**
     * Get a text representation of the document for indexing.
     */
    public String toTextContent() {
        StringBuilder sb = new StringBuilder();
        sb.append("Patient ID: ").append(patientId).append("\n");
        sb.append("Document ID: ").append(docId).append("\n");
        sb.append("Name: ").append(getFullName()).append("\n");
        sb.append("Age: ").append(age).append("\n");
        sb.append("Department: ").append(department).append("\n");
        sb.append("Admission Date: ").append(admissionDate).append("\n\n");
        sb.append("Diagnoses:\n");
        for (String d : diagnoses) {
            sb.append("  - ").append(d).append("\n");
        }
        sb.append("\nTreatments:\n");
        for (String t : treatments) {
            sb.append("  - ").append(t).append("\n");
        }
        sb.append("\nClinical Notes:\n").append(clinicalNotes).append("\n");
        return sb.toString();
    }

    @Override
    public boolean equals(Object o) {
        if (this == o)
            return true;
        if (o == null || getClass() != o.getClass())
            return false;
        Document document = (Document) o;
        return Objects.equals(docId, document.docId);
    }

    @Override
    public int hashCode() {
        return Objects.hash(docId);
    }

    @Override
    public String toString() {
        return "Document{" +
                "docId='" + docId + '\'' +
                ", patientId='" + patientId + '\'' +
                ", name='" + getFullName() + '\'' +
                ", department='" + department + '\'' +
                '}';
    }
}
